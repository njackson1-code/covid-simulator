(this["webpackJsonplearn-react"]=this["webpackJsonplearn-react"]||[]).push([[0],{240:function(e,t,i){"use strict";i.r(t);var s=i(0),a=i.n(s),n=i(85),o=i.n(n),r=(i(93),i(94),i(95),i(5)),l=i(6),d=i(8),c=i(7),h=(i(19),a.a.Component,i(86)),u=i.n(h),m=i(87),v=i.n(m),f=(i(239),function(e){Object(d.a)(i,e);var t=Object(c.a)(i);function i(e){var s;return Object(r.a)(this,i),(s=t.call(this,e)).sendData=function(){var e={};e.id=s.id,e.infected=s.infected,e.x=s.x,e.y=s.y,e.arrived=s.arrived,e.cough={},e.cough.occur=!0,e.cough.x=s.x,e.cough.y=s.x,e.recovered=s.recovered,s.arrived&&(e.percent=s.percent),s.props.parentCallback(e)},s.xGoal=s.props.meeting.x+2*Math.random()-1,s.yGoal=s.props.meeting.y+2*Math.random()-1,s.x=Math.floor(1+98*Math.random()),s.y=Math.floor(1+98*Math.random()),s.xStart=s.x,s.yStart=s.y,s.id=e.id,s.social=e.social,s.infected=e.infected,s.masks=e.masks,s.angel=!1,"a0"==s.id&&(s.infected=!0),s.state={date:new Date},s.allNodes=e.allNodes,s.arrived=!1,s.recovered=!1,s.first=!0,s.time=0,s.percent=0,s.cough=!1,s.infected&&(s.cough=!0),s.totalDistance=Math.abs(s.xGoal-s.xStart),s}return Object(l.a)(i,[{key:"convertTimeToX",value:function(e){var t=this.percent;return this.totalDistance*t+this.xStart}},{key:"distance",value:function(e,t){return Math.sqrt(Math.pow(this.xGoal-this.x,2)+Math.pow(this.yGoal-this.y,2))}},{key:"componentDidMount",value:function(){var e=this;this.updatePosition(),this.timerID=setInterval((function(){return e.updatePosition()}),50)}},{key:"stopMovement",value:function(){clearInterval(this.timerID),document.getElementById(this.id).velocity("stop",!0)}},{key:"getX",value:function(){return this.x}},{key:"infect",value:function(){var e=this;document.getElementById(this.id).style.backgroundColor="red",this.recoverTimer=setTimeout((function(){return e.recover()}),22500),this.setState({date:new Date})}},{key:"recover",value:function(){if(!this.recovered){this.recovered=!0;var e="#f8ed62";Math.random()<=.01&&(this.angel=!0,e="white",this.floatingAngel()),document.getElementById(this.id).style.backgroundColor=e,this.setState({date:new Date})}}},{key:"floatingAngel",value:function(){this.yGoal=-200;var e=document.getElementById(this.id);this.arrived=!0,this.x=this.convertTimeToX(this.time),this.sendData(),e.velocity("stop",!0),e.velocity({left:this.x+"%",top:this.yGoal+"%"},{duration:12500})}},{key:"equation",value:function(e){return this.slope(this.xStart,this.yStart)*(e-this.xStart)+this.yStart}},{key:"slope",value:function(e,t){return(this.yGoal-t)/(this.xGoal-e)}},{key:"otherFunction",value:function(e){this.x=e}},{key:"updatePosition",value:function(){if(this.angel)return this.arrived=!0,void this.sendData();if(this.allSick)return this.stopMovement(),void(this.infected&&!this.recovered&&this.infect());if(this.social=document.getElementById("sd").value/100,this.time+=50,this.setState({date:new Date}),this.arrived)1!=this.infected||this.recovered||"red"==document.getElementById(this.id).style.backgroundColor&&"white"==document.getElementById(this.id).style.backgroundColor&&"#f8ed62"==document.getElementById(this.id).style.backgroundColor||this.infect();else{if(this.x=this.convertTimeToX(this.time),this.y=this.equation(this.x),this.infected&&!this.recovered&&(1!=this.infected||this.recovered||"red"==document.getElementById(this.id).style.backgroundColor&&"white"==document.getElementById(this.id).style.backgroundColor&&"#f8ed62"==document.getElementById(this.id).style.backgroundColor||this.infect()),1==this.percent)return this.x=this.xGoal,this.y=this.yGoal,this.arrived=!0,this.sendData(),void(this.totalDistance=Math.abs(this.xGoal-this.xStart));this.sendData();var e=this;if(this.first){var t=Math.random();if("a0"==this.id&&console.log("reset velocity"),t<this.social){this.percent=1,this.xGoal=this.x,this.yGoal=this.y;var i=document.getElementById(this.id);return i.style.left=this.x+"%",void(i.style.top=this.y+"%")}var s=document.getElementById(this.id);s.style.left=this.x+"%",s.style.top=this.y+"%",s.velocity({left:this.xGoal+"%",top:this.yGoal+"%"},{duration:6500,progress:function(t,i,s,a,n){!function(e,t){e.percent=t}(e,i)}}),this.time=0}this.first=!1}}},{key:"componentDidUpdate",value:function(e){this.allSick=this.props.allSick,this.props.infected&&(this.infected=this.props.infected,this.cough=!0),this.props.reset&&(this.arrived=!1,this.first=!0,this.xGoal=this.props.meeting.x+2*Math.random()-1,this.yGoal=this.props.meeting.y+2*Math.random()-1,this.xStart=this.x,this.yStart=this.y,this.arrived=!1,this.percent=0)}},{key:"render",value:function(){return this.angel?a.a.createElement("div",{id:this.id,className:"person"},a.a.createElement("img",{className:"angel",src:v.a})):this.masks?a.a.createElement("div",{id:this.id,className:"person"},a.a.createElement("img",{src:u.a})):a.a.createElement("div",{id:this.id,className:"person"})}}]),i}(a.a.Component)),p=function(e){Object(d.a)(i,e);var t=Object(c.a)(i);function i(e){var s;return Object(r.a)(this,i),(s=t.call(this,e)).state={date:new Date},s.id=e.id,s.x=e.x,s.y=e.y,s}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.update()}},{key:"update",value:function(){var e=document.getElementById(this.id);e.style.left=this.x+"%",e.style.top=this.y+"%",e.style.width="0px",e.style.height="0px",e.style.transition="1.5s",this.setState({date:new Date}),this.timerID=setTimeout((function(){e.style.width="40px",e.style.height="40px"}),50)}},{key:"render",value:function(){return a.a.createElement("div",{className:"transmit",id:this.id})}}]),i}(a.a.Component),g=function(e){Object(d.a)(i,e);var t=Object(c.a)(i);function i(e){var s;Object(r.a)(this,i),(s=t.call(this,e)).callbackFunction=function(e){"percent"in e&&(s.arrivedNodes=s.arrivedNodes+1),s.allNodes[e.id]=e;document.getElementById("title");s.arrivedNodes==s.numOfNodes&&(s.reset=!0,s.arrivedNodes=0,s.shouldUpdate=!0),s.allSick=!1},s.justReset=!1,s.numOfNodes=e.numOfNodes,s.nodes=[],s.passNodes=[],s.allNodes={},s.reset=!1,s.change=!1,s.taco=0,e.masks?s.infectionRate=100:s.infectionRate=25,s.social=document.getElementById("sd").value/100,s.arrivedNodes=0,s.numOfMeetings=s.numOfNodes/4,s.meetings=[];for(var n=0;n<s.numOfMeetings;n++){var o=Math.floor(1+98*Math.random()),l=Math.floor(2+96*Math.random());s.meetings[n]={},s.meetings[n].x=o,s.meetings[n].y=l}s.done=!1,s.nodeMeeting={},s.interactionDuration={};for(var d=0;d<s.numOfNodes;d++){Math.random();var c="a"+d;s.nodes[d]=c,s.passNodes[d]=c;var h=Math.floor(Math.random()*s.numOfMeetings);s.nodeMeeting[c]=s.meetings[h],s.nodeMeeting[c].x+=1*Math.random()-.5,s.nodeMeeting[c].y+=1*Math.random()-.5,s.allNodes[c]={},s.interactionDuration={},s.allNodes[c].infected=!1}return s.nodes=s.nodes.map((function(t){return a.a.createElement(f,{allSick:!1,masks:e.masks,infected:!1,social:s.social,recovered:!1,reset:!1,id:t,meeting:s.nodeMeeting[t],parentCallback:s.callbackFunction,key:t})})),s.nodes[0]=a.a.createElement(f,{allSick:!1,masks:e.masks,infected:!0,social:s.social,id:"a0",recovered:!1,reset:!1,meeting:s.nodeMeeting.a0,parentCallback:s.callbackFunction,key:"a0"}),s.state={nodes:s.nodes},s.transmissions=[],s}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.update()}),50)}},{key:"update",value:function(){this.shouldUpdate=!1,this.done=!1,this.justReset&&(this.shouldUpdate=!0,this.justReset=!1),this.checkCollision(),this.reset&&(this.RESET(),this.shouldUpdate=!0),this.shouldUpdate&&(this.updateComponents(),this.setState({nodes:this.nodes}),this.reset&&(this.reset=!1,this.justReset=!0))}},{key:"updateComponents",value:function(){for(var e=0;e<this.numOfNodes;e++){var t="a"+e;this.nodes[e]=a.a.createElement(f,{allSick:this.allSick,infected:this.allNodes[t].infected,recovered:this.allNodes[t].recovered,reset:this.reset,id:t,meeting:this.nodeMeeting[t],parentCallback:this.callbackFunction,key:t})}this.shouldUpdate=!1}},{key:"hardcode",value:function(){this.reset=!1}},{key:"distance",value:function(e,t){return Math.sqrt(Math.pow(this.allNodes[e].x-this.allNodes[t].x,2)+Math.pow(this.allNodes[e].y-this.allNodes[t].y,2))}},{key:"checkCollision",value:function(){for(var e=this,t=0,i=0,s=0,n=0;n<this.nodes.length;n++){for(var o=0;o<this.nodes.length;o++){var r=this.passNodes[n],l=this.passNodes[o];if(!(this.allNodes[r].recovered||this.allNodes[l].recovered||n==o||this.allNodes[r].infected&&this.allNodes[l].infected)&&(this.allNodes[r].infected||this.allNodes[l].infected)){var d=r;if(this.allNodes[l].infected||(d=l),this.distance(r,l)<2.5)this.interactionDuration[d]+=1,Math.random()<this.interactionDuration[d]/this.infectionRate&&function(){e.allNodes[d].infected=!0,e.shouldUpdate=!0;var t=e.transmissions.length;e.transmissions.push(a.a.createElement(p,{key:"tm"+d,id:"tm"+d,x:e.allNodes[d].x,y:e.allNodes[d].y})),setTimeout((function(){delete e.transmissions[t],e.setState({nodes:e.nodes})}),1500)}();else this.interactionDuration[d]=0}}this.allNodes[this.passNodes[n]].infected||this.allNodes[this.passNodes[n]].recovered||(i+=1),this.allNodes[this.passNodes[n]].infected&&!this.allNodes[this.passNodes[n]].recovered&&(t+=1),this.allNodes[this.passNodes[n]].recovered&&(s+=1)}t!=this.numOfNodes&&0!=i&&i+s!=this.numOfNodes||(this.allSick=!0,this.message="Immunity Reached. No one else to spread disease to.")}},{key:"updateMeetings",value:function(){for(var e=0;e<this.nodes.length;e++){var t=this.passNodes[e];if(!this.allNodes[t].arrived){for(var i=0;i<this.nodes.length;i++)this.passNodes[i];return}}for(var s=0;s<this.numOfMeetings;s++){var a=Math.floor(1+98*Math.random()),n=Math.floor(2+96*Math.random());this.meetings[s]={},this.meetings[s].x=a,this.meetings[s].y=n}for(var o=0;o<this.nodes.length;o++){var r=this.passNodes[o];this.allNodes[r].arrived=!1}this.reset=!0}},{key:"RESET",value:function(){this.nodeMeeting={};for(var e=0;e<this.numOfMeetings;e++){var t=Math.floor(1+98*Math.random()),i=Math.floor(1+98*Math.random());this.meetings[e]={},this.meetings[e].x=t,this.meetings[e].y=i}for(var s=0;s<this.numOfNodes;s++){var a="a"+s;this.passNodes[s]=a;var n=Math.floor(Math.random()*this.numOfMeetings);this.nodeMeeting[a]=this.meetings[n]}}},{key:"render",value:function(){if(this.taco>=2&&!this.reset)for(var e=0;e<this.numOfNodes;e++)Math.random();if(this.taco=this.taco+1,this.change){this.change=!1;for(var t=0;t<this.numOfNodes;t++);}return this.reset&&(this.change=!0),console.log(this.state.nodes.length),this.allSick?(clearInterval(this.timerID),a.a.createElement(a.a.Fragment,null,this.allSick&&a.a.createElement("div",{id:"endmsg"},this.message),a.a.createElement("div",null,a.a.createElement("div",null,this.state.nodes),a.a.createElement("div",null,this.transmissions)))):a.a.createElement(a.a.Fragment,null,this.allSick&&a.a.createElement("div",{id:"endmsg"},this.message),a.a.createElement("div",null,a.a.createElement("div",null,this.state.nodes),a.a.createElement("div",null,this.transmissions)))}}]),i}(a.a.Component),y=function(e){Object(d.a)(i,e);var t=Object(c.a)(i);function i(e){var s;return Object(r.a)(this,i),(s=t.call(this,e)).generate=function(e){"GenerateSimulation"==e.target.id&&(s.masks=document.getElementById("masks").checked,s.masks?s.masks=!0:s.masks=!1,s.numPeople=document.getElementById("numPeople").value,isNaN(s.numPeople)?alert("Please enter number of people for simulation"):(s.assigned=!0,s.numOfCreations++,s.setState({numOfCreations:s.numOfCreations})))},s.state={numOfCreations:0},s.numOfCreations=0,s.assigned=!1,s}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.assigned=!1;document.getElementById("GenerateSimulation");document.addEventListener("click",this.generate)}},{key:"render",value:function(){return this.assigned?a.a.createElement("div",{id:"graphArea"},a.a.createElement(g,{key:this.numOfCreations,numOfNodes:this.numPeople,masks:this.masks})):a.a.createElement("div",{id:"graphArea"})}}]),i}(a.a.Component);var k=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"App"},a.a.createElement("div",{id:"title"},"Covid Visualizer"),a.a.createElement("div",{id:"topBox"},a.a.createElement("div",{id:"inputs"},a.a.createElement("div",{id:"people"},a.a.createElement("input",{id:"numPeople",placeholder:"100"}),a.a.createElement("label",null,"Number of People")),a.a.createElement("div",{id:"socialDistance"},a.a.createElement("input",{type:"range",placeholder:"Social Distancing",id:"sd",name:"cowbell",min:"0",max:"100"}),a.a.createElement("label",{for:"cowbell"},"Level of Social Distancing")),a.a.createElement("div",null,a.a.createElement("input",{id:"masks",type:"checkbox"}),a.a.createElement("label",null,"Masks"))),a.a.createElement("div",{id:"generate"},a.a.createElement("button",{id:"GenerateSimulation"},"Generate Simulation"))),a.a.createElement(y,null),a.a.createElement("div",{id:"bottomBorder"},a.a.createElement("div",{id:"negativeCovid"},"Negative"),a.a.createElement("div",{id:"positiveCovid"},"Positive"),a.a.createElement("div",{id:"recoveredCovid"},"Recovered"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,i){e.exports=i.p+"static/media/coronavirus.a625a7c2.png"},87:function(e,t,i){e.exports=i.p+"static/media/angel.db2b3117.png"},88:function(e,t,i){e.exports=i(240)},93:function(e,t,i){},94:function(e,t,i){e.exports=i.p+"static/media/logo.5d5d9eef.svg"},95:function(e,t,i){}},[[88,1,2]]]);
//# sourceMappingURL=main.66de75f6.chunk.js.map