(this["webpackJsonplearn-react"]=this["webpackJsonplearn-react"]||[]).push([[0],{243:function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n),a=i(86),o=i.n(a),r=(i(96),i(97),i(98),i(4)),l=i(5),d=i(7),c=i(6),h=(i(16),s.a.Component,i(87)),u=i.n(h),m=i(88),v=i.n(m),f=(i(242),function(e){Object(d.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).sendData=function(){var e={};e.id=n.id,e.infected=n.infected,e.x=n.x,e.y=n.y,e.arrived=n.arrived,e.cough={},e.cough.occur=!0,e.cough.x=n.x,e.cough.y=n.x,e.recovered=n.recovered,n.arrived&&(e.percent=n.percent),n.props.parentCallback(e)},n.xGoal=n.props.meeting.x+2*Math.random()-1,n.yGoal=n.props.meeting.y+2*Math.random()-1,n.x=Math.floor(1+98*Math.random()),n.y=Math.floor(1+98*Math.random()),n.xStart=n.x,n.yStart=n.y,n.id=e.id,n.social=e.social,n.infected=e.infected,n.masks=e.masks,n.angel=!1,n.deathRate=.01,n.id==n.key+"a0"&&(n.infected=!0),n.state={date:new Date},n.allNodes=e.allNodes,n.arrived=!1,n.recovered=!1,n.first=!0,n.infex=!1,n.time=0,n.percent=0,n.cough=!1,n.infected&&(n.cough=!0),n.totalDistance=n.xGoal-n.xStart,n}return Object(l.a)(i,[{key:"convertTimeToX",value:function(e){var t=this.percent;return this.totalDistance*t+this.xStart}},{key:"distance",value:function(e,t){return Math.sqrt(Math.pow(this.xGoal-this.x,2)+Math.pow(this.yGoal-this.y,2))}},{key:"componentDidMount",value:function(){var e=this;this.updatePosition(),this.timerID=setInterval((function(){return e.updatePosition()}),50)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID),clearTimeout(this.recoverTimer)}},{key:"stopMovement",value:function(){clearInterval(this.timerID);var e=document.getElementById(this.id);this.angel||e.velocity("stop",!0)}},{key:"getX",value:function(){return this.x}},{key:"infect",value:function(){var e=this;this.infex=!0,document.getElementById(this.id).style.backgroundColor="red",this.recoverTimer=setTimeout((function(){return e.recover()}),22500),this.setState({date:new Date})}},{key:"recover",value:function(){if(!this.recovered){console.log(this.id),this.recovered=!0;var e="#f8ed62";Math.random()<=this.deathRate&&(this.angel=!0,e="white",this.floatingAngel()),document.getElementById(this.id).style.backgroundColor=e,this.setState({date:new Date})}}},{key:"floatingAngel",value:function(){this.yGoal=-200;var e=document.getElementById(this.id);this.arrived=!0,this.x=this.convertTimeToX(this.time),this.sendData(),e.velocity("stop",!0),e.velocity({left:this.x+"%",top:this.yGoal+"%"},{duration:12500})}},{key:"equation",value:function(e){return this.slope(this.xStart,this.yStart)*(e-this.xStart)+this.yStart}},{key:"slope",value:function(e,t){return(this.yGoal-t)/(this.xGoal-e)}},{key:"otherFunction",value:function(e){this.x=e}},{key:"updatePosition",value:function(){if(this.allSick)return this.stopMovement(),void(!this.infected||this.recovered||this.infex||this.infect());if(this.social=document.getElementById("sd").value/100,this.time+=50,this.setState({date:new Date}),this.arrived)1!=this.infected||this.recovered||this.infex||this.infect();else{if(this.angel&&this.angel)return this.arrived=!0,void this.sendData();if(this.x=this.convertTimeToX(this.time),this.y=this.equation(this.x),this.id,this.infected&&!this.recovered&&(1!=this.infected||this.recovered||this.infex||this.infect()),1==this.percent)return this.x=this.xGoal,this.y=this.yGoal,this.arrived=!0,void this.sendData();this.sendData();var e=this;if(this.first){var t=Math.random();if(this.id,t<this.social){this.percent=1,this.xGoal=this.x,this.yGoal=this.y;var i=document.getElementById(this.id);return i.style.left=this.x+"%",void(i.style.top=this.y+"%")}var n=document.getElementById(this.id);n.style.left=this.x+"%",n.style.top=this.y+"%",n.velocity({left:this.xGoal+"%",top:this.yGoal+"%"},{duration:6500,progress:function(t,i,n,s,a){!function(e,t){e.percent=t}(e,i)}}),this.percent=0}this.first=!1}}},{key:"componentDidUpdate",value:function(e){this.allSick=this.props.allSick,this.props.infected&&(this.infected=this.props.infected,this.cough=!0),this.props.reset&&(this.arrived=!1,this.first=!0,this.xGoal=this.props.meeting.x+2*Math.random()-1,this.yGoal=this.props.meeting.y+2*Math.random()-1,this.xStart=this.x,this.yStart=this.y,this.arrived=!1,this.percent=0,this.totalDistance=this.xGoal-this.xStart)}},{key:"render",value:function(){return this.angel?s.a.createElement("div",{id:this.id,className:"person"},s.a.createElement("img",{className:"angel",src:v.a})):this.masks?s.a.createElement("div",{id:this.id,className:"person"},s.a.createElement("img",{src:u.a})):s.a.createElement("div",{id:this.id,className:"person"})}}]),i}(s.a.Component)),p=i(46),g=function(e){Object(d.a)(i,e);var t=Object(c.a)(i);function i(e){var n;Object(r.a)(this,i),(n=t.call(this,e)).state={date:new Date},n.id=e.id;var s=document.getElementById("graphArea").clientWidth,a=document.getElementById("graphArea").clientHeight;return console.log(parseFloat(e.x)/100),n.x=parseFloat(e.x)/100*parseFloat(s)+10,n.y=parseFloat(e.y)/100*parseFloat(a)+10,n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.update()}},{key:"update",value:function(){var e=document.getElementById(this.id);e.style.left=this.x+"px",e.style.top=this.y+"px",e.style.width="1px",e.style.height="1px",e.style.transition="1.5s";var t=p("#"+this.id);this.setState({date:new Date}),this.timerID=setTimeout((function(){t.css({transform:"scale(35)"})}),50)}},{key:"render",value:function(){return s.a.createElement("div",{className:"transmit",id:this.id})}}]),i}(s.a.Component),y=i(89),k=i.n(y),E=i(90),N=i.n(E),x=function(e){Object(d.a)(i,e);var t=Object(c.a)(i);function i(e){var n;Object(r.a)(this,i),n=t.call(this,e);var s=document.getElementById("graphArea").clientWidth,a=document.getElementById("graphArea").clientHeight;return n.x=parseFloat(e.x)/100*parseFloat(s)-25,n.y=parseFloat(e.y)/100*parseFloat(a)-25,n.type=e.type,n.id=e.id,n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){console.log("aqui");var e=document.getElementById(this.id);console.log(e),e.style.left=this.x+"px",e.style.top=this.y+"px"}},{key:"render",value:function(){return 1==this.type?s.a.createElement("div",{id:this.id,className:"meeting"},s.a.createElement("img",{src:N.a})):s.a.createElement("div",{id:this.id,className:"meeting"},s.a.createElement("img",{src:k.a}))}}]),i}(s.a.Component),M=function(e){Object(d.a)(i,e);var t=Object(c.a)(i);function i(e){var n;Object(r.a)(this,i),(n=t.call(this,e)).callbackFunction=function(e){"percent"in e&&(n.arrivedNodes=n.arrivedNodes+1),n.allNodes[e.id]=e,document.getElementById("title").innerHTML=n.arrivedNodes,n.arrivedNodes==n.numOfNodes&&(n.resetPing(),n.reset=!0,n.arrivedNodes=0,n.shouldUpdate=!0),n.allSick=!1},n.justReset=!1,n.numOfNodes=e.numOfNodes,n.nodes=[],n.passNodes=[],n.key=e.id,n.allNodes={},n.reset=!1,n.change=!1,n.taco=0,e.masks?n.infectionRate=200:n.infectionRate=75,n.social=document.getElementById("sd").value/100,n.arrivedNodes=0,n.renderMeetings=[],n.numOfMeetings=n.numOfNodes/4,n.meetings=[];for(var a=0;a<n.numOfMeetings;a++){var o=Math.floor(1+98*Math.random()),l=Math.floor(2+96*Math.random());n.meetings[a]={},n.meetings[a].x=o,n.meetings[a].y=l;var d="m"+a,c=0;o>50&&(c=1),n.meetings[a].type=c,n.renderMeetings.push(s.a.createElement(x,{x:o,y:l,key:d,id:d,type:c}))}console.log(n.meetings),n.done=!1,n.nodeMeeting={},n.interactionDuration={};for(var h=0;h<n.numOfNodes;h++){Math.random();var u=n.key+"a"+h;n.nodes[h]=u,n.passNodes[h]=u;var m=Math.floor(Math.random()*n.numOfMeetings);n.nodeMeeting[u]=n.meetings[m],n.nodeMeeting[u].x+=1*Math.random()-.5,n.nodeMeeting[u].y+=1*Math.random()-.5,n.allNodes[u]={},n.interactionDuration={},n.allNodes[u].infected=!1}return n.nodes=n.nodes.map((function(t){return s.a.createElement(f,{allSick:!1,masks:e.masks,infected:!1,social:n.social,recovered:!1,reset:!1,id:t,meeting:n.nodeMeeting[t],parentCallback:n.callbackFunction,key:t})})),n.nodes[0]=s.a.createElement(f,{allSick:!1,masks:e.masks,infected:!0,social:n.social,id:n.key+"a0",recovered:!1,reset:!1,meeting:n.nodeMeeting[n.key+"a0"],parentCallback:n.callbackFunction,key:n.key+"a0"}),n.state={nodes:n.nodes},n.transmissions=[],n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.update()}),50),this.setPing()}},{key:"componentDidUpdate",value:function(e){this.allSick=this.props.allSick,this.key!=this.props.id&&this.setPing()}},{key:"componentWillUnmount",value:function(){console.log("all sick time"),this.cancelPing()}},{key:"update",value:function(){this.shouldUpdate=!1,this.done=!1,this.justReset&&(this.shouldUpdate=!0,this.justReset=!1),this.checkCollision(),this.reset&&(this.RESET(),this.shouldUpdate=!0),this.shouldUpdate&&(this.updateComponents(),this.setState({nodes:this.nodes}),this.reset&&(this.reset=!1,this.justReset=!0))}},{key:"updateComponents",value:function(){for(var e=0;e<this.numOfNodes;e++){var t=this.key+"a"+e;this.nodes[e]=s.a.createElement(f,{allSick:this.allSick,infected:this.allNodes[t].infected,recovered:this.allNodes[t].recovered,reset:this.reset,id:t,meeting:this.nodeMeeting[t],parentCallback:this.callbackFunction,key:t})}this.shouldUpdate=!1}},{key:"hardcode",value:function(){this.reset=!1}},{key:"distance",value:function(e,t){return Math.sqrt(Math.pow(this.allNodes[e].x-this.allNodes[t].x,2)+Math.pow(this.allNodes[e].y-this.allNodes[t].y,2))}},{key:"cancelPing",value:function(){clearTimeout(this.pingTimer)}},{key:"setPing",value:function(){var e=this;console.log("setping"),this.pingTimer=setTimeout((function(){return e.ping()}),1e4)}},{key:"resetPing",value:function(){var e=this;console.log("resetping"),clearTimeout(this.pingTimer),this.pingTimer=setTimeout((function(){return e.ping()}),1e4)}},{key:"ping",value:function(){console.log("ping"),this.reset=!0,this.arrivedNodes=0,this.resetPing()}},{key:"checkCollision",value:function(){for(var e=this,t=0,i=0,n=0,a=0;a<this.nodes.length;a++){for(var o=0;o<this.nodes.length;o++){var r=this.passNodes[a],l=this.passNodes[o];if(!(this.allNodes[r].recovered||this.allNodes[l].recovered||a==o||this.allNodes[r].infected&&this.allNodes[l].infected)&&(this.allNodes[r].infected||this.allNodes[l].infected)){var d=r;if(this.allNodes[l].infected||(d=l),this.distance(r,l)<2.5){this.interactionDuration[d]+=1;var c=Math.random(),h=.5;0==this.nodeMeeting[d].type&&(h=200),c<this.interactionDuration[d]/this.infectionRate/h&&function(){e.allNodes[d].infected=!0,e.shouldUpdate=!0;var t=e.transmissions.length;e.transmissions.push(s.a.createElement(g,{key:"tm"+d,id:"tm"+d,x:e.allNodes[d].x,y:e.allNodes[d].y})),setTimeout((function(){delete e.transmissions[t],e.setState({nodes:e.nodes})}),1500)}()}else this.interactionDuration[d]=0}}this.allNodes[this.passNodes[a]].infected||this.allNodes[this.passNodes[a]].recovered||(i+=1),this.allNodes[this.passNodes[a]].infected&&!this.allNodes[this.passNodes[a]].recovered&&(t+=1),this.allNodes[this.passNodes[a]].recovered&&(n+=1)}t!=this.numOfNodes&&0!=i&&i+n!=this.numOfNodes||(this.allSick=!0,this.message="Immunity Reached. No one else to spread disease to.")}},{key:"updateMeetings",value:function(){for(var e=0;e<this.nodes.length;e++){var t=this.passNodes[e];if(!this.allNodes[t].arrived){for(var i=0;i<this.nodes.length;i++)this.passNodes[i];return}}this.renderMeetings=[];for(var n=0;n<this.numOfMeetings;n++){var a=Math.floor(1+98*Math.random()),o=Math.floor(2+96*Math.random());this.meetings[n]={},this.meetings[n].x=a,this.meetings[n].y=o;var r="m"+a,l=0;a>50&&(l=1),this.meetings[n].type=l,this.renderMeetings.push(s.a.createElement(x,{x:a,y:o,key:r,id:r,type:l}))}console.log(this.renderMeetings);for(var d=0;d<this.nodes.length;d++){var c=this.passNodes[d];this.allNodes[c].arrived=!1}this.reset=!0}},{key:"RESET",value:function(){this.nodeMeeting={};for(var e=0;e<this.numOfNodes;e++){var t=this.key+"a"+e;this.passNodes[e]=t;var i=Math.floor(Math.random()*this.numOfMeetings);this.nodeMeeting[t]=this.meetings[i]}}},{key:"render",value:function(){if(this.taco>=2&&!this.reset)for(var e=0;e<this.numOfNodes;e++)Math.random();if(this.taco=this.taco+1,this.change){this.change=!1;for(var t=0;t<this.numOfNodes;t++);}return this.reset&&(this.change=!0),this.allSick?(clearInterval(this.timerID),document.getElementById("overshadow").style.display="block",s.a.createElement(s.a.Fragment,null,this.allSick&&s.a.createElement("div",{id:"endmsg"},this.message),s.a.createElement("div",null,s.a.createElement("div",null,this.state.nodes),s.a.createElement("div",null,this.transmissions),s.a.createElement("div",null,this.renderMeetings)))):s.a.createElement(s.a.Fragment,null,this.allSick&&s.a.createElement("div",{id:"endmsg"},this.message),s.a.createElement("div",null,s.a.createElement("div",null,this.state.nodes),s.a.createElement("div",null,this.transmissions),s.a.createElement("div",null,this.renderMeetings)))}}]),i}(s.a.Component),b=function(e){Object(d.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).generate=function(e){"masks"!=e.target.id?"ResetSimulation"!=e.target.id?"GenerateSimulation"!=e.target.id||n.clicked||(n.allSick=!1,n.clicked=!0,n.numPeople=document.getElementById("numPeople").value,isNaN(n.numPeople)?alert("Please enter number of people for simulation"):(n.assigned=!0,n.numOfCreations++,n.setState({numOfCreations:n.numOfCreations}))):n.reset():n.maskSet()},n.callbackFunction=function(e){n.numOfCreations=n.numOfCreations+1},n.state={numOfCreations:0},n.numOfCreations=0,n.assigned=!1,n.clicked=!1,n.masks=!1,n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.assigned=!1;document.getElementById("GenerateSimulation");document.addEventListener("click",this.generate)}},{key:"maskSet",value:function(){this.masks?document.getElementById("masks").style.backgroundColor="white":document.getElementById("masks").style.backgroundColor="blue",this.masks=!this.masks}},{key:"reset",value:function(){this.clicked=!1,this.assigned=!1,document.getElementById("overshadow").style.display="none",this.allSick=!0,this.setState({numOfCreations:this.numOfCreations})}},{key:"render",value:function(){return this.allSick&&console.log("should cancel all"),this.assigned?(console.log(this.masks),s.a.createElement("div",{id:"graphArea"},s.a.createElement(M,{allSick:this.allSick,callbackFunction:this.callbackFunction,id:this.numOfCreations,key:this.numOfCreations,numOfNodes:this.numPeople,masks:this.masks}))):s.a.createElement("div",{id:"graphArea"})}}]),i}(s.a.Component);var S=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"overshadow"}),s.a.createElement("div",{className:"App"},s.a.createElement("div",{id:"title"},"Covid Visualizer"),s.a.createElement("div",{id:"topBox"},s.a.createElement("div",{id:"inputs"},s.a.createElement("div",{id:"people",className:"input"},s.a.createElement("input",{id:"numPeople",placeholder:"100"}),s.a.createElement("label",null,"Number of People")),s.a.createElement("div",{id:"socialDistance",className:"input"},s.a.createElement("input",{type:"range",placeholder:"Social Distancing",id:"sd",name:"cowbell",min:"0",max:"100"}),s.a.createElement("label",{for:"cowbell"},"Level of Social Distancing")),s.a.createElement("div",{id:"maskBox",className:"input"},s.a.createElement("div",{name:"m",id:"masks"}),s.a.createElement("label",{for:"m"},"Masks"))),s.a.createElement("div",{id:"generate"},s.a.createElement("button",{id:"GenerateSimulation"},"Generate Simulation")),s.a.createElement("div",{id:"reset"},s.a.createElement("button",{id:"ResetSimulation"},"Reset Simulation"))),s.a.createElement(b,null),s.a.createElement("div",{id:"bottomBorder"},s.a.createElement("div",{id:"negativeCovid"},"Negative"),s.a.createElement("div",{id:"positiveCovid"},"Positive"),s.a.createElement("div",{id:"recoveredCovid"},"Recovered"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,i){e.exports=i.p+"static/media/coronavirus.a625a7c2.png"},88:function(e,t,i){e.exports=i.p+"static/media/angel.db2b3117.png"},89:function(e,t,i){e.exports=i.p+"static/media/mountain.7b575a0f.png"},90:function(e,t,i){e.exports=i.p+"static/media/company.3d592e87.png"},91:function(e,t,i){e.exports=i(243)},96:function(e,t,i){},97:function(e,t,i){e.exports=i.p+"static/media/logo.5d5d9eef.svg"},98:function(e,t,i){}},[[91,1,2]]]);
//# sourceMappingURL=main.27b20b9d.chunk.js.map